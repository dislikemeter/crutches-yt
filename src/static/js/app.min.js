function modalError(e){var t=e&&e.response&&e.response.status?app.msg("errors")[e.response.status]:"Ajax Error",o=e&&e.response&&e.response.data?e.response.data.message?app.msg(e.response.data.message):e.response.data.exception||app.msg("connection-error"):app.msg("connection-error");app.$emit("modal",{title:t,content:o,buttons:[{name:"OK"}]})}var xsrfHeader=document.querySelector('meta[name="_csrf_header"]').getAttribute("content"),xsrfToken=document.querySelector('meta[name="_csrf"]').getAttribute("content");axios.defaults.headers.common[xsrfHeader]=xsrfToken,axios.defaults.headers.common["Content-Type"]="application/json",axios.interceptors.response.use(function(e){return e},function(e){switch(e.response.status){case void 0:case 502:modalError();break;case 403:e.response.data&&"AuthenticationRequired"===e.response.data.exception?window.location.pathname="/login":modalError(e)}return e}),Chart.defaults.global.elements.point.radius=0,Chart.defaults.global.elements.point.hoverRadius=3,Chart.defaults.global.elements.point.hitRadius=15,Chart.defaults.global.elements.line.borderWidth=2,Chart.defaults.global.hover.mode="nearest",Chart.defaults.global.hover.intersect=!0,Chart.defaults.global.tooltips.mode="index",Chart.defaults.global.tooltips.intersect.mode=!1,Chart.defaults.global.responsive=!0,Chart.defaults.global.maintainAspectRatio=!1,moment.locale(lang.currentLocale);var routes=[{path:"/",component:components.sidebarLayout,children:[{path:"",component:components.dashboard},{path:"account",component:components.viewProfile},{path:"account/edit",component:components.editProfile},{path:"account/password",component:components.changePassword},{path:"manage/users",component:components.editUsers},{path:"manage/roles",component:components.editRoles},{path:"manage/permissions",component:components.editPermissions},{path:"config",component:components.editParams},{path:"ytstats/",component:components.ytStats},{path:"ytstats/:videoId",component:components.ytStats,props:!0}]},{path:"*",component:components.notFound}],app=new Vue({el:"#app",router:new VueRouter({routes:routes,mode:"history"}),data:{},methods:{msg:lang.msg,msgf:function(e){return e.replace(/\${([a-z_-]+)}/gi,function(e,t){return lang.msg(t)})},setTitle:function(e){document.title=this.msg(e)||e}}});